@{
    ViewData["Title"] = $"Create {ViewBag.ProductType} - Abstract Factory";
    var productType = ViewBag.ProductType as string;
    var category = ViewBag.Category as string;
}

<div class="row">
    <div class="col-lg-8 mx-auto">
        <div class="card">
            <div class="card-header @(category?.ToLower() switch {
                "electronics" => "bg-primary text-white",
                "furniture" => "bg-warning text-dark", 
                _ => "bg-info text-white"
            })">
                <h2 class="mb-0">
                    @switch (productType?.ToLower())
                    {
                        case "mobile phone":
                            <i class="fas fa-mobile-alt me-2"></i>
                            break;
                        case "laptop":
                            <i class="fas fa-laptop me-2"></i>
                            break;
                        case "headphones":
                            <i class="fas fa-headphones me-2"></i>
                            break;
                        case "sofa":
                            <i class="fas fa-couch me-2"></i>
                            break;
                        case "table":
                            <i class="fas fa-table me-2"></i>
                            break;
                        case "bed":
                            <i class="fas fa-bed me-2"></i>
                            break;
                        case "curtains":
                            <i class="fas fa-window-maximize me-2"></i>
                            break;
                        case "car":
                            <i class="fas fa-car me-2"></i>
                            break;
                        case "truck":
                            <i class="fas fa-truck me-2"></i>
                            break;
                        case "bike":
                            <i class="fas fa-motorcycle me-2"></i>
                            break;
                        default:
                            <i class="fas fa-plus me-2"></i>
                            break;
                    }
                    Create @productType - Abstract Factory
                </h2>
            </div>
            <div class="card-body">
                <form asp-action="@($"Create{productType?.Replace(" ", "")}")" method="post">
                    <div class="mb-3">
                        <label for="name" class="form-label">@productType Name</label>
                        <input type="text" class="form-control" id="name" name="name" required 
                               placeholder="@(productType?.ToLower() switch {
                                   "mobile phone" => "e.g., iPhone 15, Samsung Galaxy S24",
                                   "laptop" => "e.g., MacBook Pro, Dell XPS 13",
                                   "headphones" => "e.g., AirPods Pro, Sony WH-1000XM5",
                                   "sofa" => "e.g., 3-Seater Sofa, Sectional Couch",
                                   "table" => "e.g., Dining Table, Coffee Table",
                                   "bed" => "e.g., Queen Size Bed, King Size Bed",
                                   "curtains" => "e.g., Living Room Curtains, Bedroom Drapes",
                                   "car" => "e.g., Toyota Camry, Honda Civic, BMW X5",
                                   "truck" => "e.g., Ford F-150, Chevrolet Silverado, Ram 1500",
                                   "bike" => "e.g., Honda CBR, Yamaha R1, Kawasaki Ninja",
                                   _ => "Enter product name"
                               })">
                    </div>
                    
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" rows="3" 
                                  placeholder="Describe the @productType.ToLower()..."></textarea>
                    </div>
                    
                    <div class="mb-3">
                        <label for="stockQuantity" class="form-label">Stock Quantity</label>
                        <input type="number" class="form-control" id="stockQuantity" name="stockQuantity" min="0" required>
                    </div>
                    
                    <div class="alert alert-info">
                        <i class="fas fa-info-circle me-2"></i>
                        This will create a <strong>@productType</strong> using the <strong>Abstract Factory Pattern</strong>.
                        <br><small>The product will be automatically categorized as <strong>@category</strong> with appropriate emoji prefix.</small>
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <a asp-action="@($"{category}Abstract")" class="btn btn-outline-secondary">
                            <i class="fas fa-arrow-left me-1"></i>Back to @category Products
                        </a>
                        <button type="submit" class="btn @(category?.ToLower() switch {
                            "electronics" => "btn-primary",
                            "furniture" => "btn-warning", 
                            _ => "btn-info"
                        })">
                            @switch (productType?.ToLower())
                            {
                                case "mobile phone":
                                    <i class="fas fa-mobile-alt me-1"></i>
                                    break;
                                case "laptop":
                                    <i class="fas fa-laptop me-1"></i>
                                    break;
                                case "headphones":
                                    <i class="fas fa-headphones me-1"></i>
                                    break;
                                case "sofa":
                                    <i class="fas fa-couch me-1"></i>
                                    break;
                                case "table":
                                    <i class="fas fa-table me-1"></i>
                                    break;
                                case "bed":
                                    <i class="fas fa-bed me-1"></i>
                                    break;
                                case "curtains":
                                    <i class="fas fa-window-maximize me-1"></i>
                                    break;
                                case "car":
                                    <i class="fas fa-car me-1"></i>
                                    break;
                                case "truck":
                                    <i class="fas fa-truck me-1"></i>
                                    break;
                                case "bike":
                                    <i class="fas fa-motorcycle me-1"></i>
                                    break;
                                default:
                                    <i class="fas fa-plus me-1"></i>
                                    break;
                            }
                            Create @productType
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
